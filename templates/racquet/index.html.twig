{% extends 'base.html.twig' %}

{% block title %}Our Racquets
{% endblock %}

{% block body %}
	<div class="container mt-5">
		<div class="card shadow-sm mb-4">
			<div class="card-header bg-primary text-white">
				<div class="row align-items-center mb-3">
					<div class="col-md-6">
						<h1 class="h3 mb-0">Our Racquet Collection</h1>
					</div>
					<div class="col-md-6">
						{{ include("base/_search_data.html.twig", { 'form' : searchForm }) }}
					</div>
				</div>
				<div class="border-top pt-3 mt-2">
					{{ include("base/_filter_data.html.twig", { 'form' : filterForm }) }}
				</div>
			</div>
		</div>

		<div class="row">
			{% for racquet in racquets %}
				<div class="col-md-4 mb-4">
					<div class="card shadow-sm h-100">
						<img src="{{ asset('img/racquet/' ~ racquet.id ~ '.' ~ racquet.imgExtension) }}" class="card-img-top" alt="{{ racquet.brand }} {{ racquet.model }}" style="height: 250px; object-fit: contain; padding: 20px;">
						<div class="card-body">
							<h5 class="card-title">{{ racquet.brand }}
								{{ racquet.model }}</h5>
							<h4 class="text-primary mb-3">{{ racquet.price }}
								€</h4>

							<ul class="list-unstyled small mb-3">
								{% if racquet.headSize %}
									<li>
										<strong>Head Size:</strong>
										{{ racquet.headSize }}
										cm²</li>
								{% endif %}
								{% if racquet.weight %}
									<li>
										<strong>Weight:</strong>
										{{ racquet.weight }}
										g</li>
								{% endif %}
								{% if racquet.stringPattern %}
									<li>
										<strong>String Pattern:</strong>
										{{ racquet.stringPattern }}</li>
								{% endif %}
							</ul>

							<div class="mb-3">
								<span class="badge
																		                                    {% if racquet.quantity >= 30 %}
																		                                        bg-success
																		                                    {% elseif racquet.quantity >= 10 %}
																		                                        bg-warning
																		                                    {% else %}
																		                                        bg-danger
																		                                    {% endif %}
																		                                ">{{ racquet.quantity }}
									in stock</span>
							</div>
						</div>
						<div class="card-footer bg-transparent">
							<a href="{{ path('racquet_detail', {'id': racquet.id}) }}" class="btn btn-primary w-100">
								View Details
							</a>
						</div>
					</div>
				</div>
			{% else %}
				<div class="col-12">
					<div class="alert alert-info text-center">
						<i class="bi bi-inbox" style="font-size: 2rem;"></i>
						<p class="mb-0 mt-2">No racquets available at the moment</p>
					</div>
				</div>
			{% endfor %}
		</div>

		<nav aria-label="Racquet pagination" class="mt-4">
			<ul class="pagination justify-content-center">
				{% if previous >= 0 %}
					<li class="page-item">
						<a class="page-link" href={{ path('racquets', { offset: previous, weight: weight, head_size: head_size, string_pattern: string_pattern, grip_size:grip_size } ) }}>
							<span aria-hidden="true">&laquo;</span>
							Previous
						</a>
					</li>
				{% else %}
					<li class="page-item disabled">
						<span class="page-link">
							<span aria-hidden="true">&laquo;</span>
							Previous</span>
					</li>
				{% endif %}

				{% if next < totalItems %}
					<li class="page-item">
						<a class="page-link" href={{ path('racquets', { offset: next, weight: weight, head_size: head_size, string_pattern: string_pattern, grip_size:grip_size } ) }}>
							Next
							<span aria-hidden="true">&raquo;</span>
						</a>
					</li>
				{% else %}
					<li class="page-item disabled">
						<span class="page-link">Next
							<span aria-hidden="true">&raquo;</span>
						</span>
					</li>
				{% endif %}
			</ul>
		</nav>
	</div>
{% endblock %}
